! function(t, e) {
    function n(e) {
        t.extend(!0, et, e)
    }

    function r(n, r, s) {
        function c() {
            setTimeout(function() {
                !L.start && f() && v()
            }, 0)
        }

        function l() {
            return 0 !== j.offsetWidth
        }

        function f() {
            return 0 !== t("body")[0].offsetWidth
        }

        function d(e) {
            if (!L || e != L.name) {
                Z++, x();
                var n, r = L;
                r ? ((r.beforeHide || R)(), F(N, N.height()), r.element.hide()) : F(N, 1), N.css("overflow", "hidden"), (L = V[e]) ? L.element.show() : L = V[e] = new at[e](n = O = t("<div class='fc-view fc-view-" + e + "' style='position:absolute'/>").appendTo(N), T), r && k.deactivateButton(r.name), k.activateButton(e), v(), N.css("overflow", ""), r && F(N, 1), n || (L.afterShow || R)(), Z--
            }
        }

        function v(t) {
            if (l()) {
                Z++, x(), _ === e && D();
                var a = !1;
                !L.start || t || X < L.start || X >= L.end ? (L.render(X, t || 0), w(!0), a = !0) : L.sizeDirty ? (L.clearEvents(), w(), a = !0) : L.eventsDirty && (L.clearEvents(), a = !0), L.sizeDirty = !1, L.eventsDirty = !1, o = a, !r.lazyFetching || I(L.visStart, L.visEnd) ? C() : o && S(), W = n.outerWidth(), k.updateTitle(L.title), (t = new Date) >= L.start && t < L.end ? k.disableButton("today") : k.enableButton("today"), Z--, L.trigger("viewDisplay", j)
            }
            var o
        }

        function p() {
            m(), l() && (D(), w(), x(), L.clearEvents(), L.renderEvents($), L.sizeDirty = !1)
        }

        function m() {
            t.each(V, function(t, e) {
                e.sizeDirty = !0
            })
        }

        function D() {
            _ = r.contentHeight ? r.contentHeight : r.height ? r.height - (z ? z.height() : 0) - H(N) : Math.round(N.width() / Math.max(r.aspectRatio, .5))
        }

        function w(t) {
            Z++, L.setHeight(_, t), O && (O.css("position", "relative"), O = null), L.setWidth(N.width(), t), Z--
        }

        function M() {
            if (!Z)
                if (L.start) {
                    var t = ++U;
                    setTimeout(function() {
                        t == U && !Z && l() && W != (W = n.outerWidth()) && (Z++, p(), L.trigger("windowResize", j), Z--)
                    }, 200)
                } else c()
        }

        function C() {
            Y(L.visStart, L.visEnd)
        }

        function S(t) {
            E(), l() && (L.clearEvents(), L.renderEvents($, t), L.eventsDirty = !1)
        }

        function E() {
            t.each(V, function(t, e) {
                e.eventsDirty = !0
            })
        }

        function x() {
            L && L.unselect()
        }
        var T = this;
        T.options = r, T.render = function(e) {
                N ? (D(), m(), E(), v(e)) : (r.theme ? "ui" : "fc", n.addClass("fc"), r.isRTL && n.addClass("fc-rtl"), r.theme && n.addClass("ui-widget"), N = t("<div class='fc-content' style='position:relative'/>").prependTo(n), k = new function(e, n) {
                    function r(r) {
                        var a = t("<div class='fc-header-" + r + "'/>");
                        return (r = n.header[r]) && t.each(r.split(" "), function(r) {
                            var i;
                            r > 0 && a.append(""), t.each(this.split(","), function(r, s) {
                                var c;
                                if ("title" == s) a.append("<span class='fc-header-title'><strong>&nbsp;</strong></span>"), i && i.addClass(o + "-corner-right"), i = null;
                                else if (e[s] ? c = e[s] : at[s] && (c = function() {
                                        u.removeClass(o + "-state-hover"), e.changeView(s)
                                    }), c) {
                                    r = n.theme ? A(n.buttonIcons, s) : null;
                                    var l = A(n.buttonText, s),
                                        u = t("<span class='fc-button fc-button-" + s + " " + o + "-state-default'><span class='fc-button-inner'><span class='fc-button-content'>" + (r ? "<span class='fc-icon-wrap'><span class='ui-icon ui-icon-" + r + "'/></span>" : l) + "</span></span></span>");
                                    u && (u.click(function() {
                                        u.hasClass(o + "-state-disabled") || c()
                                    }).mousedown(function() {
                                        u.not("." + o + "-state-active").not("." + o + "-state-disabled").addClass(o + "-state-down")
                                    }).mouseup(function() {
                                        u.removeClass(o + "-state-down")
                                    }).hover(function() {
                                        u.not("." + o + "-state-active").not("." + o + "-state-disabled").addClass(o + "-state-hover")
                                    }, function() {
                                        u.removeClass(o + "-state-hover").removeClass(o + "-state-down")
                                    }).appendTo(a), i || u.addClass(o + "-corner-left"), i = u)
                                }
                            }), i && i.addClass(o + "-corner-right")
                        }), a
                    }
                    var a = this;
                    a.render = function() {
                        if (o = n.theme ? "ui" : "fc", n.header) return i = t("<div class='fc-header' style='width:100%'/>").append(t("<div>").append(r("left")).append(r("center")).append(r("right")))
                    }, a.destroy = function() {
                        i.remove()
                    }, a.updateTitle = function(t) {
                        i.find("strong").html(t)
                    }, a.activateButton = function(t) {
                        i.find("span.fc-button-" + t).addClass(o + "-state-active")
                    }, a.deactivateButton = function(t) {
                        i.find("span.fc-button-" + t).removeClass(o + "-state-active")
                    }, a.disableButton = function(t) {
                        i.find("span.fc-button-" + t).addClass(o + "-state-disabled")
                    }, a.enableButton = function(t) {
                        i.find("span.fc-button-" + t).removeClass(o + "-state-disabled")
                    };
                    var o, i = t([])
                }(T, r), (z = k.render()) && n.prepend(z), d(r.defaultView), t(window).resize(M), f() || c())
            }, T.destroy = function() {
                t(window).unbind("resize", M), k.destroy(), N.remove(), n.removeClass("fc fc-rtl ui-widget")
            }, T.refetchEvents = C, T.reportEvents = function(t) {
                $ = t, S()
            }, T.reportEventChange = function(t) {
                S(t)
            }, T.rerenderEvents = S, T.changeView = d, T.select = function(t, n, r) {
                L.select(t, n, r === e || r)
            }, T.unselect = x, T.prev = function() {
                v(-1)
            }, T.next = function() {
                v(1)
            }, T.prevYear = function() {
                a(X, -1), v()
            }, T.nextYear = function() {
                a(X, 1), v()
            }, T.today = function() {
                X = new Date, v()
            }, T.gotoDate = function(t, e, n) {
                t instanceof Date ? X = u(t) : h(X, t, e, n), v()
            }, T.incrementDate = function(t, n, r) {
                t !== e && a(X, t), n !== e && o(X, n), r !== e && i(X, r), v()
            }, T.formatDate = function(t, e) {
                return y(t, e, r)
            }, T.formatDates = function(t, e, n) {
                return b(t, e, n, r)
            }, T.getDate = function() {
                return u(X)
            }, T.getView = function() {
                return L
            }, T.option = function(t, n) {
                if (n === e) return r[t];
                "height" != t && "contentHeight" != t && "aspectRatio" != t || (r[t] = n, p())
            }, T.trigger = function(t, e) {
                if (r[t]) return r[t].apply(e || j, Array.prototype.slice.call(arguments, 2))
            },
            function(n, r) {
                function a(e, r) {
                    ! function e(r, a) {
                        var o, c, l = rt.sourceFetchers;
                        for (o = 0; o < l.length; o++) {
                            if (!0 === (c = l[o](r, v, h, a))) return;
                            if ("object" == typeof c) return void e(c, a)
                        }
                        if (o = r.events) t.isFunction(o) ? (i(), o(u(v), u(h), function(t) {
                            a(t), s()
                        })) : t.isArray(o) ? a(o) : a();
                        else if (r.url) {
                            var f = r.success,
                                d = r.error,
                                g = r.complete;
                            o = t.extend({}, r.data || {}), l = q(r.startParam, n.startParam), c = q(r.endParam, n.endParam), l && (o[l] = Math.round(+v / 1e3)), c && (o[c] = Math.round(+h / 1e3)), i(), t.ajax(t.extend({}, ot, r, {
                                data: o,
                                success: function(e) {
                                    e = e || [];
                                    var n = P(f, this, arguments);
                                    t.isArray(n) && (e = n), a(e)
                                },
                                error: function() {
                                    P(d, this, arguments), a()
                                },
                                complete: function() {
                                    P(g, this, arguments), s()
                                }
                            }))
                        } else a()
                    }(e, function(t) {
                        if (r == w) {
                            if (t) {
                                for (var n = 0; n < t.length; n++) t[n].source = e, c(t[n]);
                                S = S.concat(t)
                            }--M || y(S)
                        }
                    })
                }

                function o(e) {
                    if (t.isFunction(e) || t.isArray(e) ? e = {
                            events: e
                        } : "string" == typeof e && (e = {
                            url: e
                        }), "object" == typeof e) return function(t) {
                        t.className ? "string" == typeof t.className && (t.className = t.className.split(/\s+/)) : t.className = [];
                        for (var e = rt.sourceNormalizers, n = 0; n < e.length; n++) e[n](t)
                    }(e), D.push(e), e
                }

                function i() {
                    C++ || p("loading", null, !0)
                }

                function s() {
                    --C || p("loading", null, !1)
                }

                function c(t) {
                    var r = t.source || {},
                        a = q(r.ignoreTimezone, n.ignoreTimezone);
                    t._id = t._id || (t.id === e ? "_fc" + it++ : t.id + ""), t.date && (t.start || (t.start = t.date), delete t.date), t._start = u(t.start = g(t.start, a)), t.end = g(t.end, a), t.end && t.end <= t.start && (t.end = null), t._end = t.end ? u(t.end) : null, t.allDay === e && (t.allDay = q(r.allDayDefault, n.allDayDefault)), t.className ? "string" == typeof t.className && (t.className = t.className.split(/\s+/)) : t.className = []
                }

                function l(t, e) {
                    return t && e && f(t) == f(e)
                }

                function f(t) {
                    return ("object" == typeof t ? t.events || t.url : "") || t
                }
                var d = this;
                d.isFetchNeeded = function(t, e) {
                    return !v || t < v || e > h
                }, d.fetchEvents = function(t, e) {
                    v = t, h = e, S = [], t = ++w, M = e = D.length;
                    for (var n = 0; n < e; n++) a(D[n], t)
                }, d.addEventSource = function(t) {
                    (t = o(t)) && (M++, a(t, w))
                }, d.removeEventSource = function(e) {
                    D = t.grep(D, function(t) {
                        return !l(t, e)
                    }), S = t.grep(S, function(t) {
                        return !l(t.source, e)
                    }), y(S)
                }, d.updateEvent = function(t) {
                    var e, n, r = S.length,
                        a = m().defaultEventEnd,
                        o = t.start - t._start,
                        i = t.end ? t.end - (t._end || a(t)) : 0;
                    for (e = 0; e < r; e++)(n = S[e])._id == t._id && n != t && (n.start = new Date(+n.start + o), n.end = t.end ? n.end ? new Date(+n.end + i) : new Date(+a(n) + i) : null, n.title = t.title, n.url = t.url, n.allDay = t.allDay, n.className = t.className, n.editable = t.editable, n.color = t.color, n.backgroudColor = t.backgroudColor, n.borderColor = t.borderColor, n.textColor = t.textColor, c(n));
                    c(t), y(S)
                }, d.renderEvent = function(t, e) {
                    c(t), t.source || (e && (b.events.push(t), t.source = b), S.push(t));
                    y(S)
                }, d.removeEvents = function(e) {
                    if (e) {
                        if (!t.isFunction(e)) {
                            var n = e + "";
                            e = function(t) {
                                return t._id == n
                            }
                        }
                        for (S = t.grep(S, e, !0), r = 0; r < D.length; r++) t.isArray(D[r].events) && (D[r].events = t.grep(D[r].events, e, !0))
                    } else {
                        S = [];
                        for (var r = 0; r < D.length; r++) t.isArray(D[r].events) && (D[r].events = [])
                    }
                    y(S)
                }, d.clientEvents = function(e) {
                    {
                        if (t.isFunction(e)) return t.grep(S, e);
                        if (e) return e += "", t.grep(S, function(t) {
                            return t._id == e
                        })
                    }
                    return S
                }, d.normalizeEvent = c;
                var v, h, p = d.trigger,
                    m = d.getView,
                    y = d.reportEvents,
                    b = {
                        events: []
                    },
                    D = [b],
                    w = 0,
                    M = 0,
                    C = 0,
                    S = [];
                for (d = 0; d < r.length; d++) o(r[d])
            }.call(T, r, s);
        var k, z, N, L, W, _, O, B, I = T.isFetchNeeded,
            Y = T.fetchEvents,
            j = n[0],
            V = {},
            U = 0,
            Z = 0,
            X = new Date,
            $ = [];
        h(X, r.year, r.month, r.date), r.droppable && t(document).bind("dragstart", function(e, n) {
            var a = e.target,
                o = t(a);
            if (!o.parents(".fc").length) {
                var i = r.dropAccept;
                (t.isFunction(i) ? i.call(a, o) : o.is(i)) && (B = a, L.dragStart(B, e, n))
            }
        }).bind("dragstop", function(t, e) {
            B && (L.dragStop(B, t, e), B = null)
        })
    }

    function a(t, e, n) {
        return t.setFullYear(t.getFullYear() + e), n || l(t), t
    }

    function o(t, e, n) {
        if (+t) {
            e = t.getMonth() + e;
            var r = u(t);
            for (r.setDate(1), r.setMonth(e), t.setMonth(e), n || l(t); t.getMonth() != r.getMonth();) t.setDate(t.getDate() + (t < r ? 1 : -1))
        }
        return t
    }

    function i(t, e, n) {
        if (+t) {
            e = t.getDate() + e;
            var r = u(t);
            r.setHours(9), r.setDate(e), t.setDate(e), n || l(t), s(t, r)
        }
        return t
    }

    function s(t, e) {
        if (+t)
            for (; t.getDate() != e.getDate();) t.setTime(+t + (t < e ? 1 : -1) * lt)
    }

    function c(t, e) {
        return t.setMinutes(t.getMinutes() + e), t
    }

    function l(t) {
        return t.setHours(0), t.setMinutes(0), t.setSeconds(0), t.setMilliseconds(0), t
    }

    function u(t, e) {
        return e ? l(new Date(+t)) : new Date(+t)
    }

    function f() {
        var t, e = 0;
        do {
            t = new Date(1970, e++, 1)
        } while (t.getHours());
        return t
    }

    function d(t, e, n) {
        for (e = e || 1; !t.getDay() || n && 1 == t.getDay() || !n && 6 == t.getDay();) i(t, e);
        return t
    }

    function v(t, e) {
        return Math.round((u(t, !0) - u(e, !0)) / ct)
    }

    function h(t, n, r, a) {
        n !== e && n != t.getFullYear() && (t.setDate(1), t.setMonth(0), t.setFullYear(n)), r !== e && r != t.getMonth() && (t.setDate(1), t.setMonth(r)), a !== e && t.setDate(a)
    }

    function g(t, n) {
        return "object" == typeof t ? t : "number" == typeof t ? new Date(1e3 * t) : "string" == typeof t ? t.match(/^\d+(\.\d+)?$/) ? new Date(1e3 * parseFloat(t)) : (n === e && (n = !0), p(t, n) || (t ? new Date(t) : null)) : null
    }

    function p(t, e) {
        if (!(t = t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/))) return null;
        var n = new Date(t[1], 0, 1);
        return e || !t[13] ? (e = new Date(t[1], 0, 1, 9, 0), t[3] && (n.setMonth(t[3] - 1), e.setMonth(t[3] - 1)), t[5] && (n.setDate(t[5]), e.setDate(t[5])), s(n, e), t[7] && n.setHours(t[7]), t[8] && n.setMinutes(t[8]), t[10] && n.setSeconds(t[10]), t[12] && n.setMilliseconds(1e3 * Number("0." + t[12])), s(n, e)) : (n.setUTCFullYear(t[1], t[3] ? t[3] - 1 : 0, t[5] || 1), n.setUTCHours(t[7] || 0, t[8] || 0, t[10] || 0, t[12] ? 1e3 * Number("0." + t[12]) : 0), t[14] && (e = 60 * Number(t[16]) + (t[18] ? Number(t[18]) : 0), e *= "-" == t[15] ? 1 : -1, n = new Date(+n + 60 * e * 1e3))), n
    }

    function m(t) {
        if ("number" == typeof t) return 60 * t;
        if ("object" == typeof t) return 60 * t.getHours() + t.getMinutes();
        if (t = t.match(/(\d+)(?::(\d+))?\s*(\w+)?/)) {
            var e = parseInt(t[1], 10);
            return t[3] && (e %= 12, "p" == t[3].toLowerCase().charAt(0) && (e += 12)), 60 * e + (t[2] ? parseInt(t[2], 10) : 0)
        }
    }

    function y(t, e, n) {
        return b(t, null, e, n)
    }

    function b(t, e, n, r) {
        r = r || et;
        var a, o, i, s, c = t,
            l = e,
            u = n.length,
            f = "";
        for (a = 0; a < u; a++)
            if ("'" == (o = n.charAt(a))) {
                for (i = a + 1; i < u; i++)
                    if ("'" == n.charAt(i)) {
                        c && (f += i == a + 1 ? "'" : n.substring(a + 1, i), a = i);
                        break
                    }
            } else if ("(" == o) {
            for (i = a + 1; i < u; i++)
                if (")" == n.charAt(i)) {
                    a = y(c, n.substring(a + 1, i), r), parseInt(a.replace(/\D/, ""), 10) && (f += a), a = i;
                    break
                }
        } else if ("[" == o) {
            for (i = a + 1; i < u; i++)
                if ("]" == n.charAt(i)) {
                    (a = y(c, o = n.substring(a + 1, i), r)) != y(l, o, r) && (f += a), a = i;
                    break
                }
        } else if ("{" == o) c = e, l = t;
        else if ("}" == o) c = t, l = e;
        else {
            for (i = u; i > a; i--)
                if (s = ft[n.substring(a, i)]) {
                    c && (f += s(c, r)), a = i - 1;
                    break
                }
            i == a && c && (f += o)
        }
        return f
    }

    function D(t) {
        return t.end ? (e = t.end, n = t.allDay, e = u(e), n || e.getHours() || e.getMinutes() ? i(e, 1) : l(e)) : i(u(t.start), 1);
        var e, n
    }

    function w(t, e) {
        return 100 * (e.msLength - t.msLength) + (t.event.start - e.event.start)
    }

    function M(t, e) {
        return t.end > e.start && t.start < e.end
    }

    function C(t, e, n, r) {
        var a, o, i, s, c, l, f = [],
            d = t.length;
        for (a = 0; a < d; a++) i = (o = t[a]).start, (s = e[a]) > n && i < r && (i < n ? (i = u(n), c = !1) : (i = i, c = !0), s > r ? (s = u(r), l = !1) : (s = s, l = !0), f.push({
            event: o,
            start: i,
            end: s,
            isStart: c,
            isEnd: l,
            msLength: s - i
        }));
        return f.sort(w)
    }

    function S(t) {
        var e, n, r, a, o, i = [],
            s = t.length;
        for (e = 0; e < s; e++) {
            for (n = t[e], r = 0;;) {
                if (a = !1, i[r])
                    for (o = 0; o < i[r].length; o++)
                        if (M(i[r][o], n)) {
                            a = !0;
                            break
                        }
                if (!a) break;
                r++
            }
            i[r] ? i[r].push(n) : i[r] = [n]
        }
        return i
    }

    function E(n, r, a) {
        n.unbind("mouseover").mouseover(function(n) {
            for (var o, i = n.target; i != this;) o = i, i = i.parentNode;
            (i = o._fci) !== e && (o._fci = e, o = r[i], a(o.event, o.element, o), t(n.target).trigger(n)), n.stopPropagation()
        })
    }

    function x(e, n, r) {
        for (var a, o = 0; o < e.length; o++)(a = t(e[o])).width(Math.max(0, n - k(a, r)))
    }

    function T(e, n, r) {
        for (var a, o = 0; o < e.length; o++)(a = t(e[o])).height(Math.max(0, n - H(a, r)))
    }

    function k(e, n) {
        return o = e, (parseFloat(t.curCSS(o[0], "paddingLeft", !0)) || 0) + (parseFloat(t.curCSS(o[0], "paddingRight", !0)) || 0) + (a = e, (parseFloat(t.curCSS(a[0], "borderLeftWidth", !0)) || 0) + (parseFloat(t.curCSS(a[0], "borderRightWidth", !0)) || 0)) + (n ? (r = e, (parseFloat(t.curCSS(r[0], "marginLeft", !0)) || 0) + (parseFloat(t.curCSS(r[0], "marginRight", !0)) || 0)) : 0);
        var r, a, o
    }

    function H(e, n) {
        return a = e, (parseFloat(t.curCSS(a[0], "paddingTop", !0)) || 0) + (parseFloat(t.curCSS(a[0], "paddingBottom", !0)) || 0) + (r = e, (parseFloat(t.curCSS(r[0], "borderTopWidth", !0)) || 0) + (parseFloat(t.curCSS(r[0], "borderBottomWidth", !0)) || 0)) + (n ? z(e) : 0);
        var r, a
    }

    function z(e) {
        return (parseFloat(t.curCSS(e[0], "marginTop", !0)) || 0) + (parseFloat(t.curCSS(e[0], "marginBottom", !0)) || 0)
    }

    function F(t, e) {
        e = "number" == typeof e ? e + "px" : e, t.each(function(t, n) {
            n.style.cssText += ";min-height:" + e + ";_height:" + e
        })
    }

    function R() {}

    function N(t, e) {
        return t - e
    }

    function L(t) {
        return Math.max.apply(Math, t)
    }

    function W(t) {
        return (t < 10 ? "0" : "") + t
    }

    function A(t, n) {
        if (t[n] !== e) return t[n];
        for (var r, a = (n = n.split(/(?=[A-Z])/)).length - 1; a >= 0; a--)
            if ((r = t[n[a].toLowerCase()]) !== e) return r;
        return t[""]
    }

    function _(t) {
        return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;").replace(/"/g, "&quot;").replace(/\n/g, "<br />")
    }

    function O(t) {
        return t.id + "/" + t.className + "/" + t.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi, "")
    }

    function B(t) {
        t.attr("unselectable", "on").css("MozUserSelect", "none").bind("selectstart.ui", function() {
            return !1
        })
    }

    function I(t) {
        t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")
    }

    function Y(t, e) {
        t.each(function(t, n) {
            n.className = n.className.replace(/^fc-\w*/, "fc-" + st[e.getDay()])
        })
    }

    function j(t, e) {
        var n = t.source || {},
            r = t.color,
            a = n.color,
            o = e("eventColor"),
            i = t.backgroundColor || r || n.backgroundColor || a || e("eventBackgroundColor") || o;
        return r = t.borderColor || r || n.borderColor || a || e("eventBorderColor") || o, t = t.textColor || n.textColor || e("eventTextColor"), e = [], i && e.push("background-color:" + i), r && e.push("border-color:" + r), t && e.push("color:" + t), e.join(";")
    }

    function P(e, n, r) {
        if (t.isFunction(e) && (e = [e]), e) {
            var a, o;
            for (a = 0; a < e.length; a++) o = e[a].apply(n, r) || o;
            return o
        }
    }

    function q() {
        for (var t = 0; t < arguments.length; t++)
            if (arguments[t] !== e) return arguments[t]
    }

    function V(e, n, r) {
        function a(t) {
            t.click(o).mousedown(st)
        }

        function o(t) {
            if (!nt("selectable")) {
                var e = parseInt(this.className.match(/fc\-day(\d+)/)[1]);
                e = g(e), rt("dayClick", this, e, !0, t)
            }
        }

        function s(t, e, n) {
            n && A.build();
            for (var r = i(u(n = u(m.visStart)), W), o = 0; o < L; o++) {
                var s, l = new Date(Math.max(n, t)),
                    f = new Date(Math.min(r, e));
                if (l < f) j ? (s = v(f, n) * P + q + 1, l = v(l, n) * P + q + 1) : (s = v(l, n), l = v(f, n)), a(c(o, s, o, l - 1));
                i(n, 7), i(r, 7)
            }
        }

        function c(t, n, r, a) {
            return t = A.rect(t, n, r, a, e), ot(t, e)
        }

        function f(t) {
            return {
                row: Math.floor(v(t, m.visStart) / 7),
                col: p(t.getDay())
            }
        }

        function d(t) {
            return h(t.row, t.col)
        }

        function h(t, e) {
            return i(u(m.visStart), 7 * t + e * P + q)
        }

        function g(t) {
            return h(Math.floor(t / W), t % W)
        }

        function p(t) {
            return (t - Math.max(V, U) + W) % W * P + q
        }
        var m = this;
        m.renderBasic = function(n, r, o, i) {
                var s, c, u, f, d, v;
                L = r, W = o, (j = nt("isRTL")) ? (P = -1, q = W - 1) : (P = 1, q = 0), V = nt("firstDay"), U = nt("weekends") ? 0 : 1, Z = nt("theme") ? "ui" : "fc", et = nt("columnFormat"), (r = !w) ? function(n, r) {
                    var o, i, s = Z + "-widget-header",
                        c = Z + "-widget-content";
                    for (o = "<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>", i = 0; i < W; i++) o += "<th class='fc- " + s + "'/>";
                    for (o += "</tr></thead><tbody>", i = 0; i < n; i++) {
                        for (o += "<tr class='fc-week" + i + "'>", s = 0; s < W; s++) o += "<td class='fc- " + c + " fc-day" + (i * W + s) + "'><div>" + (r ? "<div class='fc-day-number'/>" : "") + "<div class='fc-day-content'><div style='position:relative'>&nbsp;<p class='z1'>tuy</p></div></div></div></td>";
                        o += "</tr>"
                    }
                    n = t(o += "</tbody></table>").appendTo(e), y = n.find("thead"), b = y.find("th"), w = n.find("tbody"), M = w.find("tr"), E = w.find("td"), T = E.filter(":first-child"), k = M.eq(0).find("div.fc-day-content div"), I(y.add(y.find("tr"))), I(M), M.eq(0).addClass("fc-first"), a(E), z = t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)
                }(n, i) : at(), f = r || 1 == L, d = m.start.getMonth(), v = l(new Date), f && b.each(function(e, n) {
                    s = t(n), c = g(e), s.html(ct(c, et)), Y(s, c)
                }), E.each(function(e, n) {
                    s = t(n), (c = g(e)).getMonth() == d ? s.removeClass("fc-other-month") : s.addClass("fc-other-month"), +c == +v ? s.addClass(Z + "-state-highlight fc-today") : s.removeClass(Z + "-state-highlight fc-today"), s.find("div.fc-day-number").text(c.getDate()), f && Y(s, c), console.log(c.getDate())
                }), M.each(function(e, n) {
                    u = t(n), e < L ? (u.show(), e == L - 1 ? u.addClass("fc-last") : u.removeClass("fc-last")) : u.hide()
                    })
            }, m.setHeight = function(e) {
                var n, r, a;
                e = e - y.height(), "variable" == nt("weekMode") ? n = r = Math.floor(e / (1 == L ? 2 : 6)) : (n = Math.floor(e / L), r = e - n * (L - 1)), T.each(function(e, o) {
                    e < L && F((a = t(o)).find("> div"), (e == L - 1 ? r : n) - H(a))
                })
            }, m.setWidth = function(t) {
                R = t, O.clear(), N = Math.floor(R / W), x(b.slice(0, -1), N)
            }, m.renderDayOverlay = s, m.defaultSelectionEnd = function(t) {
                return u(t)
            }, m.renderSelection = function(t, e) {
                s(t, i(u(e), 1), !0)
            }, m.clearSelection = function() {
                it()
            }, m.reportDayClick = function(t, e, n) {
                var r = f(t);
                rt("dayClick", E[r.row * W + r.col], t, e, n)
            }, m.dragStart = function(t, e) {
                _.start(function(t) {
                    it(), t && c(t.row, t.col, t.row, t.col)
                }, e)
            }, m.dragStop = function(t, e, n) {
                var r = _.stop();
                it(), r && (r = d(r), rt("drop", t, r, !0, e, n))
            }, m.defaultEventEnd = function(t) {
                return u(t.start)
            }, m.getHoverListener = function() {
                return _
            }, m.colContentLeft = function(t) {
                return O.left(t)
            }, m.colContentRight = function(t) {
                return O.right(t)
            }, m.dayOfWeekCol = p, m.dateCell = f, m.cellDate = d, m.cellIsAllDay = function() {
                return !0
            }, m.allDayRow = function(t) {
                return M.eq(t)
            }, m.allDayBounds = function() {
                return {
                    left: 0,
                    right: R
                }
            }, m.getRowCnt = function() {
                return L
            }, m.getColCnt = function() {
                return W
            }, m.getColWidth = function() {
                return N
            }, m.getDaySegmentContainer = function() {
                return z
            }, X.call(m, e, n, r), G.call(m), Q.call(m),
            function() {
                function e(e) {
                    var r = b(),
                        a = w(),
                        o = u(n.visStart);
                    a = i(u(o), a);
                    var s, c, l, f, d, v, h = t.map(e, D),
                        g = [];
                    for (s = 0; s < r; s++) {
                        for (c = S(C(e, h, o, a)), l = 0; l < c.length; l++)
                            for (f = c[l], d = 0; d < f.length; d++)(v = f[d]).row = s, v.level = l, g.push(v);
                        i(o, 7), i(a, 7)
                    }
                    return g
                }
                var n = this;
                n.renderEvents = function(t, n) {
                    c(t), M(e(t), n)
                }, n.compileDaySegs = e, n.clearEvents = function() {
                    l(), g().empty()
                }, n.bindDaySeg = function(t, e, n) {
                    o(t) && function(t, e) {
                        var n, o = p();
                        e.draggable({
                            zIndex: 9,
                            delay: 50,
                            opacity: r("dragOpacity"),
                            revertDuration: r("dragRevertDuration"),
                            start: function(s, c) {
                                a("eventDragStart", e, t, s, c), v(t, e), o.start(function(a, o, s, c) {
                                    e.draggable("option", "revert", !a || !s && !c), y(), a ? (n = 7 * s + c * (r("isRTL") ? -1 : 1), m(i(u(t.start), n), i(D(t), n))) : n = 0
                                }, s, "drag")
                            },
                            stop: function(r, i) {
                                o.stop(), y(), a("eventDragStop", e, t, r, i), n ? h(this, t, n, 0, t.allDay, r, i) : (e.css("filter", ""), d(t, e))
                            }
                        })
                    }(t, e), n.isEnd && s(t) && E(t, e, n), f(t, e)
                }, $.call(n);
                var r = n.opt,
                    a = n.trigger,
                    o = n.isEventDraggable,
                    s = n.isEventResizable,
                    c = n.reportEvents,
                    l = n.reportEventClear,
                    f = n.eventElementHandlers,
                    d = n.showEvents,
                    v = n.hideEvents,
                    h = n.eventDrop,
                    g = n.getDaySegmentContainer,
                    p = n.getHoverListener,
                    m = n.renderDayOverlay,
                    y = n.clearOverlays,
                    b = n.getRowCnt,
                    w = n.getColCnt,
                    M = n.renderDaySegs,
                    E = n.resizableDayEvent
            }.call(m);
        var y, b, w, M, E, T, k, z, R, N, L, W, A, _, O, j, P, q, V, U, Z, et, nt = m.opt,
            rt = m.trigger,
            at = m.clearEvents,
            ot = m.renderOverlay,
            it = m.clearOverlays,
            st = m.daySelectionMousedown,
            ct = n.formatDate;
        B(e.addClass("fc-grid")), A = new J(function(e, n) {
            var r, a, o;
            b.each(function(e, i) {
                r = t(i), a = r.offset().left, e && (o[1] = a), o = [a], n[e] = o
            }), o[1] = a + r.outerWidth(), M.each(function(n, i) {
                n < L && (r = t(i), a = r.offset().top, n && (o[1] = a), o = [a], e[n] = o)
            }), o[1] = a + r.outerHeight()
        }), _ = new K(A), O = new tt(function(t) {
            return k.eq(t)
        })
    }

    function U(n, r, a) {
        function o(t) {
            t.click(d).mousedown(Ut)
        }

        function s(t) {
            t.click(d).mousedown(L)
        }

        function d(t) {
            if (!Bt("selectable")) {
                var e = Math.min(Et - 1, Math.floor((t.pageX - P.offset().left - Dt) / wt)),
                    n = b(e),
                    r = this.parentNode.className.match(/fc-slot(\d+)/);
                if (r) {
                    r = parseInt(r[1]) * Bt("slotMinutes");
                    var a = Math.floor(r / 60);
                    n.setHours(a), n.setMinutes(r % 60 + At), It("dayClick", et[e], n, !1, t)
                } else It("dayClick", et[e], n, !0, t)
            }
        }

        function h(t, e, n) {
            n && Tt.build();
            var r = u(A.visStart);
            Nt ? (n = v(e, r) * Lt + Wt + 1, t = v(t, r) * Lt + Wt + 1) : (n = v(t, r), t = v(e, r)), (n = Math.max(0, n)) < (t = Math.min(Et, t)) && o(g(0, n, 0, t - 1))
        }

        function g(t, e, n, r) {
            return t = Tt.rect(t, e, n, r, ot), jt(t, ot)
        }

        function p(t, e) {
            for (var n = u(A.visStart), r = i(u(n), 1), a = 0; a < Et; a++) {
                var o = new Date(Math.max(n, t)),
                    c = new Date(Math.min(r, e));
                if (o < c) {
                    var l = a * Lt + Wt;
                    l = Tt.rect(0, l, 0, l, ft), o = z(n, o), c = z(n, c), l.top = o, l.height = c - o, s(jt(l, ft))
                }
                i(n, 1), i(r, 1)
            }
        }

        function y(t) {
            var e = b(t.col);
            return t = t.row, Bt("allDaySlot") && t--, t >= 0 && c(e, At + t * Bt("slotMinutes")), e
        }

        function b(t) {
            return i(u(A.visStart), t * Lt + Wt)
        }

        function w(t) {
            return Bt("allDaySlot") && !t.row
        }

        function M(t) {
            return (t - Math.max(Ft, Rt) + Et) % Et * Lt + Wt
        }

        function z(t, n) {
            if (n < c(u(t = u(t, !0)), At)) return 0;
            if (n >= c(u(t), _t)) return vt.height();
            t = Bt("slotMinutes"), n = 60 * n.getHours() + n.getMinutes() - At;
            var r = Math.floor(n / t),
                a = $t[r];
            return a === e && (a = $t[r] = vt.find("tr:eq(" + r + ") td div")[0].offsetTop), Math.max(0, Math.round(a - 1 + Ct * (n % t / t)))
        }

        function F(e, n) {
            var r = Bt("selectHelper");
            if (Tt.build(), r) {
                var a = v(e, A.visStart) * Lt + Wt;
                if (a >= 0 && a < Et) {
                    a = Tt.rect(0, a, 0, a, ft);
                    var o = z(e, e),
                        i = z(e, n);
                    i > o && (a.top = o, a.height = i - o, a.left += 2, a.width -= 5, t.isFunction(r) ? (e = r(e, n)) && (a.position = "absolute", a.zIndex = 8, mt = t(e).css(a).appendTo(ft)) : (a.isStart = !0, a.isEnd = !0, (mt = t(Zt({
                        title: "",
                        start: e,
                        end: n,
                        className: ["fc-select-helper"],
                        editable: !1
                    }, a))).css("opacity", Bt("dragOpacity"))), mt && (s(mt), ft.append(mt), x(mt, a.width, !0), T(mt, a.height, !0)))
                }
            } else p(e, n)
        }

        function R() {
            Pt(), mt && (mt.remove(), mt = null)
        }

        function L(e) {
            var n;
            1 == e.which && Bt("selectable") && (Vt(e), kt.start(function(t, e) {
                R(), t && t.col == e.col && !w(t) ? (e = y(e), t = y(t), F((n = [e, c(u(e), Bt("slotMinutes")), t, c(u(t), Bt("slotMinutes"))].sort(N))[0], n[3])) : n = null
            }, e), t(document).one("mouseup", function(t) {
                kt.stop(), n && (+n[0] == +n[1] && W(n[0], !1, t), qt(n[0], n[3], !1, t))
            }))
        }

        function W(t, e, n) {
            It("dayClick", et[M(t.getDay())], t, e, n)
        }
        var A = this;
        A.renderAgenda = function(e) {
                Et = e, zt = Bt("theme") ? "ui" : "fc", Rt = Bt("weekends") ? 0 : 1, Ft = Bt("firstDay"), (Nt = Bt("isRTL")) ? (Lt = -1, Wt = Et - 1) : (Lt = 1, Wt = 0), At = m(Bt("minTime")), _t = m(Bt("maxTime")), Ot = Bt("columnFormat"), P ? Yt() : function() {
                        var e, r, a, i, l, d = zt + "-widget-header",
                            v = zt + "-widget-content",
                            h = Bt("slotMinutes") % 15 == 0;
                        for (e = "<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis " + d + "'>&nbsp;</th>", r = 0; r < Et; r++) e += "<th class='fc- fc-col" + r + " " + d + "'/>";
                        for (e += "<th class='fc-agenda-gutter " + d + "'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis " + d + "'>&nbsp;</th>", r = 0; r < Et; r++) e += "<td class='fc- fc-col" + r + " " + v + "'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
                        for (P = t(e += "<td class='fc-agenda-gutter " + v + "'>&nbsp;</td></tr></tbody></table>").appendTo(n), q = P.find("thead"), V = q.find("th").slice(1, -1), U = P.find("tbody"), et = U.find("td").slice(0, -1), nt = et.find("div.fc-day-content div"), rt = et.eq(0), at = rt.find("> div"), I(q.add(q.find("tr"))), I(U.add(U.find("tr"))), gt = q.find("th:first"), pt = P.find(".fc-agenda-gutter"), ot = t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n), Bt("allDaySlot") ? (it = t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ot), e = "<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='" + d + " fc-agenda-axis'>" + Bt("allDayText") + "</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='" + d + " fc-agenda-gutter'>&nbsp;</th></tr></table>", st = t(e).appendTo(ot), o((ct = st.find("tr")).find("td")), gt = gt.add(st.find("th:first")), pt = pt.add(st.find("th.fc-agenda-gutter")), ot.append("<div class='fc-agenda-divider " + d + "'><div class='fc-agenda-divider-inner'/></div>")) : it = t([]), lt = t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ot), ft = t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(lt), dt = t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ft), e = "<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>", a = f(), i = c(u(a), _t), c(a, At), r = xt = 0; a < i; r++) l = a.getMinutes(), e += "<tr class='fc-slot" + r + " " + (l ? "fc-minor" : "") + "'><th class='fc-agenda-axis " + d + "'>" + (h && l ? "&nbsp;" : Xt(a, Bt("axisFormat"))) + "</th><td class='" + v + "'><div style='position:relative'>&nbsp;</div></td></tr>", c(a, Bt("slotMinutes")), xt++;
                        vt = t(e += "</tbody></table>").appendTo(ft), ht = vt.find("div:first"), s(vt.find("td")), gt = gt.add(vt.find("th:first"))
                    }(),
                    function() {
                        var t, e, n, r, a = l(new Date);
                        for (t = 0; t < Et; t++) r = b(t), (e = V.eq(t)).html(Xt(r, Ot)), n = et.eq(t), +r == +a ? n.addClass(zt + "-state-highlight fc-today") : n.removeClass(zt + "-state-highlight fc-today"), Y(e.add(n), r)
                    }()
            }, A.setWidth = function(e) {
                yt = e, Ht.clear(), Dt = 0, x(gt.width("").each(function(e, n) {
                    Dt = Math.max(Dt, t(n).outerWidth())
                }), Dt), e = lt[0].clientWidth, (Mt = lt.width() - e) ? (x(pt, Mt), pt.show().prev().removeClass("fc-last")) : pt.hide().prev().addClass("fc-last"), wt = Math.floor((e - Dt) / Et), x(V.slice(0, -1), wt)
            }, A.setHeight = function(t, n) {
                t === e && (t = bt), bt = t, $t = {};
                var r = U.position().top,
                    a = lt.position().top;
                t = Math.min(t - r, vt.height() + a + 1), at.height(t - H(rt)), ot.css("top", r), lt.height(t - a - 1), Ct = ht.height() + 1, n && function() {
                    function t() {
                        lt.scrollTop(r)
                    }
                    var e = f(),
                        n = u(e);
                    n.setHours(Bt("firstHour"));
                    var r = z(e, n) + 1;
                    t(), setTimeout(t, 0)
                }()
            }, A.beforeHide = function() {
                St = lt.scrollTop()
            }, A.afterShow = function() {
                lt.scrollTop(St)
            }, A.defaultEventEnd = function(t) {
                var e = u(t.start);
                return t.allDay ? e : c(e, Bt("defaultEventMinutes"))
            }, A.timePosition = z, A.dayOfWeekCol = M, A.dateCell = function(t) {
                return {
                    row: Math.floor(v(t, A.visStart) / 7),
                    col: M(t.getDay())
                }
            }, A.cellDate = y, A.cellIsAllDay = w, A.allDayRow = function() {
                return ct
            }, A.allDayBounds = function() {
                return {
                    left: Dt,
                    right: yt - Mt
                }
            }, A.getHoverListener = function() {
                return kt
            }, A.colContentLeft = function(t) {
                return Ht.left(t)
            }, A.colContentRight = function(t) {
                return Ht.right(t)
            }, A.getDaySegmentContainer = function() {
                return it
            }, A.getSlotSegmentContainer = function() {
                return dt
            }, A.getMinMinute = function() {
                return At
            }, A.getMaxMinute = function() {
                return _t
            }, A.getBodyContent = function() {
                return ft
            }, A.getRowCnt = function() {
                return 1
            }, A.getColCnt = function() {
                return Et
            }, A.getColWidth = function() {
                return wt
            }, A.getSlotHeight = function() {
                return Ct
            }, A.defaultSelectionEnd = function(t, e) {
                return e ? u(t) : c(u(t), Bt("slotMinutes"))
            }, A.renderDayOverlay = h, A.renderSelection = function(t, e, n) {
                n ? Bt("allDaySlot") && h(t, i(u(e), 1), !0) : F(t, e)
            }, A.clearSelection = R, A.reportDayClick = W, A.dragStart = function(t, e) {
                kt.start(function(t) {
                    Pt(), t && (w(t) ? g(t.row, t.col, t.row, t.col) : p(t = y(t), c(u(t), Bt("defaultEventMinutes"))))
                }, e)
            }, A.dragStop = function(t, e, n) {
                var r = kt.stop();
                Pt(), r && It("drop", t, y(r), w(r), e, n)
            }, X.call(A, n, r, a), G.call(A), Q.call(A),
            function() {
                function n(e) {
                    var n, r, a, o, i = (e = S(C(e, t.map(e, D), s.visStart, s.visEnd))).length,
                        c = [];
                    for (n = 0; n < i; n++)
                        for (r = e[n], a = 0; a < r.length; a++)(o = r[a]).row = 0, o.level = n, c.push(o);
                    return c
                }

                function r(t) {
                    return t.end ? u(t.end) : c(u(t.start), l("defaultEventMinutes"))
                }

                function a(t, e) {
                    var n = "<",
                        r = t.url,
                        a = j(t, l),
                        o = a ? " style='" + a + "'" : "",
                        i = ["fc-event", "fc-event-skin", "fc-event-vert"];
                    return d(t) && i.push("fc-event-draggable"), e.isStart && i.push("fc-corner-top"), e.isEnd && i.push("fc-corner-bottom"), i = i.concat(t.className), t.source && (i = i.concat(t.source.className || [])), n += r ? "a href='" + _(t.url) + "'" : "div", n += " class='" + i.join(" ") + "' style='position:absolute;z-index:8;top:" + e.top + "px;left:" + e.left + "px;" + a + "'><div class='fc-event-inner fc-event-skin'" + o + "><div class='fc-event-head fc-event-skin'" + o + "><div class='fc-event-time'>" + _(tt(t.start, t.end, l("timeFormat"))) + "</div></div><div class='fc-event-content'><div class='fc-event-title'>" + _(t.title) + "</div></div><div class='fc-event-bg'></div></div>", e.isEnd && v(t) && (n += "<div class='ui-resizable-handle ui-resizable-s'>=</div>"), n += "</" + (r ? "a" : "div") + ">"
                }

                function o(t, e, n) {
                    var r, a, o, s, g, p, y = e.find("div.fc-event-time");
                    d(t) && function(t, e, n) {
                        function r(e) {
                            var r, a = c(u(t.start), e);
                            t.end && (r = c(u(t.end), e)), n.text(tt(a, r, l("timeFormat")))
                        }

                        function a() {
                            h && (n.css("display", ""), e.draggable("option", "grid", [y, b]), h = !1)
                        }
                        var o, s, d, v, h = !1,
                            g = l("isRTL") ? -1 : 1,
                            p = M(),
                            m = A(),
                            y = B(),
                            b = I();
                        e.draggable({
                            zIndex: 9,
                            scroll: !1,
                            grid: [y, b],
                            axis: 1 == m && "y",
                            opacity: l("dragOpacity"),
                            revertDuration: l("dragRevertDuration"),
                            start: function(r, c) {
                                f("eventDragStart", e, t, r, c), V(t, e), o = e.position(), d = v = 0, p.start(function(r, o, c, f) {
                                    e.draggable("option", "revert", !r), G(), r && (s = f * g, l("allDaySlot") && !r.row ? (h || (h = !0, n.hide(), e.draggable("option", "grid", null)), Q(i(u(t.start), s), i(D(t), s))) : a())
                                }, r, "drag")
                            },
                            drag: function(t, e) {
                                (d = Math.round((e.position.top - o.top) / b) * l("slotMinutes")) != v && (h || r(d), v = d)
                            },
                            stop: function(n, i) {
                                var c = p.stop();
                                G(), f("eventDragStop", e, t, n, i), c && (s || d || h) ? U(this, t, s, h ? 0 : d, h, n, i) : (a(), e.css("filter", ""), e.css(o), r(0), q(t, e))
                            }
                        })
                    }(t, e, y), n.isEnd && v(t) && (r = t, a = e, o = y, p = I(), a.resizable({
                        handles: {
                            s: "div.ui-resizable-s"
                        },
                        grid: p,
                        start: function(t, e) {
                            s = g = 0, V(r, a), a.css("z-index", 9), f("eventResizeStart", this, r, t, e)
                        },
                        resize: function(t, e) {
                            (s = Math.round((Math.max(p, a.height()) - e.originalSize.height) / p)) != g && (o.text(tt(r.start, s || r.end ? c(h(r), l("slotMinutes") * s) : null, l("timeFormat"))), g = s)
                        },
                        stop: function(t, e) {
                            f("eventResizeStop", this, r, t, e), s ? X(this, r, 0, l("slotMinutes") * s, t, e) : (a.css("z-index", 8), q(r, a))
                        }
                    })), m(t, e)
                }
                var s = this;
                s.renderEvents = function(d, v) {
                    g(d);
                    var h, p = d.length,
                        m = [],
                        b = [];
                    for (h = 0; h < p; h++) d[h].allDay ? m.push(d[h]) : b.push(d[h]);
                    l("allDaySlot") && (L(n(m), v), y());
                    ! function(n, r) {
                        var i, s, c, u, d, v, h, g, p, m, y, b, D, M = n.length,
                            C = "",
                            S = {},
                            x = {},
                            T = w();
                        i = A(), (y = l("isRTL")) ? (b = -1, D = i - 1) : (b = 1, D = 0);
                        for (i = 0; i < M; i++) s = n[i], c = s.event, u = F(s.start, s.start), d = F(s.start, s.end), v = s.col, h = s.level, g = s.forward || 0, p = R(v * b + D), m = N(v * b + D) - p, m = Math.min(m - 6, .95 * m), v = h ? m / (h + g + 1) : g ? 2 * (m / (g + 1) - 6) : m, h = p + m / (h + g + 1) * h * b + (y ? m - v : 0), s.top = u, s.left = h, s.outerWidth = v, s.outerHeight = d - u, C += a(c, s);
                        for (T[0].innerHTML = C, y = T.children(), i = 0; i < M; i++) s = n[i], c = s.event, C = t(y[i]), !1 === (b = f("eventRender", c, c, C)) ? C.remove() : (b && !0 !== b && (C.remove(), C = t(b).css({
                            position: "absolute",
                            top: s.top,
                            left: s.left
                        }).appendTo(T)), s.element = C, c._id === r ? o(c, C, s) : C[0]._fci = i, P(c, C));
                        for (E(T, n, o), i = 0; i < M; i++) s = n[i], (C = s.element) && (c = S[r = s.key = O(C[0])], s.vsides = c === e ? S[r] = H(C, !0) : c, c = x[r], s.hsides = c === e ? x[r] = k(C, !0) : c, (r = C.find("div.fc-event-content")).length && (s.contentTop = r[0].offsetTop));
                        for (i = 0; i < M; i++) s = n[i], (C = s.element) && (C[0].style.width = Math.max(0, s.outerWidth - s.hsides) + "px", S = Math.max(0, s.outerHeight - s.vsides), C[0].style.height = S + "px", c = s.event, s.contentTop !== e && S - s.contentTop < 10 && (C.find("div.fc-event-time").text(K(c.start, l("timeFormat")) + " - " + c.title), C.find("div.fc-event-title").remove()), f("eventAfterRender", c, c, C))
                    }(function(e) {
                        var n, a, o, l, f, d, v = A(),
                            h = z(),
                            g = x(),
                            p = c(u(s.visStart), h),
                            m = t.map(e, r),
                            y = [];
                        for (n = 0; n < v; n++) {
                            for (Z(a = S(C(e, m, p, c(u(p), g - h)))), o = 0; o < a.length; o++)
                                for (l = a[o], f = 0; f < l.length; f++)(d = l[f]).col = n, d.level = o, y.push(d);
                            i(p, 1, !0)
                        }
                        return y
                    }(b), v)
                }, s.compileDaySegs = n, s.clearEvents = function() {
                    p(), b().empty(), w().empty()
                }, s.slotSegHtml = a, s.bindDaySeg = function(t, e, n) {
                    d(t) && function(t, e, n) {
                        function r() {
                            c || (e.width(a).height("").draggable("option", "grid", null), c = !0)
                        }
                        var a, o, s, c = !0,
                            d = l("isRTL") ? -1 : 1,
                            v = M(),
                            h = B(),
                            g = I(),
                            p = z();
                        e.draggable({
                            zIndex: 9,
                            opacity: l("dragOpacity", "month"),
                            revertDuration: l("dragRevertDuration"),
                            start: function(p, m) {
                                f("eventDragStart", e, t, p, m), V(t, e), a = e.width(), v.start(function(a, f, v, p) {
                                    G(), a ? (o = !1, s = p * d, a.row ? n ? c && (e.width(h - 10), T(e, g * Math.round((t.end ? (t.end - t.start) / ut : l("defaultEventMinutes")) / l("slotMinutes"))), e.draggable("option", "grid", [h, 1]), c = !1) : o = !0 : (Q(i(u(t.start), s), i(D(t), s)), r()), o = o || c && !s) : (r(), o = !0), e.draggable("option", "revert", o)
                                }, p, "drag")
                            },
                            stop: function(n, a) {
                                if (v.stop(), G(), f("eventDragStop", e, t, n, a), o) r(), e.css("filter", ""), q(t, e);
                                else {
                                    var i = 0;
                                    c || (i = Math.round((e.offset().top - Y().offset().top) / g) * l("slotMinutes") + p - (60 * t.start.getHours() + t.start.getMinutes())), U(this, t, s, i, c, n, a)
                                }
                            }
                        })
                    }(t, e, n.isStart), n.isEnd && v(t) && W(t, e, n), m(t, e)
                }, $.call(s);
                var l = s.opt,
                    f = s.trigger,
                    d = s.isEventDraggable,
                    v = s.isEventResizable,
                    h = s.eventEnd,
                    g = s.reportEvents,
                    p = s.reportEventClear,
                    m = s.eventElementHandlers,
                    y = s.setHeight,
                    b = s.getDaySegmentContainer,
                    w = s.getSlotSegmentContainer,
                    M = s.getHoverListener,
                    x = s.getMaxMinute,
                    z = s.getMinMinute,
                    F = s.timePosition,
                    R = s.colContentLeft,
                    N = s.colContentRight,
                    L = s.renderDaySegs,
                    W = s.resizableDayEvent,
                    A = s.getColCnt,
                    B = s.getColWidth,
                    I = s.getSlotHeight,
                    Y = s.getBodyContent,
                    P = s.reportEventElement,
                    q = s.showEvents,
                    V = s.hideEvents,
                    U = s.eventDrop,
                    X = s.eventResize,
                    Q = s.renderDayOverlay,
                    G = s.clearOverlays,
                    J = s.calendar,
                    K = J.formatDate,
                    tt = J.formatDates
            }.call(A);
        var P, q, V, U, et, nt, rt, at, ot, it, st, ct, lt, ft, dt, vt, ht, gt, pt, mt, yt, bt, Dt, wt, Mt, Ct, St, Et, xt, Tt, kt, Ht, zt, Ft, Rt, Nt, Lt, Wt, At, _t, Ot, Bt = A.opt,
            It = A.trigger,
            Yt = A.clearEvents,
            jt = A.renderOverlay,
            Pt = A.clearOverlays,
            qt = A.reportSelection,
            Vt = A.unselect,
            Ut = A.daySelectionMousedown,
            Zt = A.slotSegHtml,
            Xt = r.formatDate,
            $t = {};
        B(n.addClass("fc-agenda")), Tt = new J(function(e, n) {
            function r(t) {
                return Math.max(c, Math.min(l, t))
            }
            var a, o, i;
            V.each(function(e, r) {
                a = t(r), o = a.offset().left, e && (i[1] = o), i = [o], n[e] = i
            }), i[1] = o + a.outerWidth(), Bt("allDaySlot") && (o = (a = ct).offset().top, e[0] = [o, o + a.outerHeight()]);
            for (var s = ft.offset().top, c = lt.offset().top, l = c + lt.outerHeight(), u = 0; u < xt; u++) e.push([r(s + Ct * u), r(s + Ct * (u + 1))])
        }), kt = new K(Tt), Ht = new tt(function(t) {
            return nt.eq(t)
        })
    }

    function Z(t) {
        var e, n, r, a, o, i;
        for (e = t.length - 1; e > 0; e--)
            for (a = t[e], n = 0; n < a.length; n++)
                for (o = a[n], r = 0; r < t[e - 1].length; r++) M(o, i = t[e - 1][r]) && (i.forward = Math.max(i.forward || 0, (o.forward || 0) + 1))
    }

    function X(t, n, r) {
        function a(t, e) {
            return "object" == typeof(t = w[t]) ? A(t, e || r) : t
        }

        function o(t, e) {
            return n.trigger.apply(n, [t, e || h].concat(Array.prototype.slice.call(arguments, 2), [h]))
        }

        function s(t) {
            return q(t.editable, (t.source || {}).editable, a("editable"))
        }

        function l(t) {
            return t.end ? u(t.end) : g(t)
        }

        function f(t, e, n) {
            var r, a = (t = D[t._id]).length;
            for (r = 0; r < a; r++) e && t[r][0] == e[0] || t[r][n]()
        }

        function d(t, n, r, a) {
            r = r || 0;
            for (var o, s = t.length, l = 0; l < s; l++) o = t[l], a !== e && (o.allDay = a), c(i(o.start, n, !0), r), o.end && (o.end = c(i(o.end, n, !0), r)), p(o, w)
        }

        function v(t, e, n) {
            n = n || 0;
            for (var r, a = t.length, o = 0; o < a; o++)(r = t[o]).end = c(i(l(r), e, !0), n), p(r, w)
        }
        var h = this;
        h.element = t, h.calendar = n, h.name = r, h.opt = a, h.trigger = o, h.isEventDraggable = function(t) {
            return s(t) && !a("disableDragging")
        }, h.isEventResizable = function(t) {
            return s(t) && !a("disableResizing")
        }, h.reportEvents = function(t) {
            y = {};
            var e, n, r = t.length;
            for (e = 0; e < r; e++) n = t[e], y[n._id] ? y[n._id].push(n) : y[n._id] = [n]
        }, h.eventEnd = l, h.reportEventElement = function(t, e) {
            b.push(e), D[t._id] ? D[t._id].push(e) : D[t._id] = [e]
        }, h.reportEventClear = function() {
            b = [], D = {}
        }, h.eventElementHandlers = function(t, e) {
            e.click(function(n) {
                if (!e.hasClass("ui-draggable-dragging") && !e.hasClass("ui-resizable-resizing")) return o("eventClick", this, t, n)
            }).hover(function(e) {
                o("eventMouseover", this, t, e)
            }, function(e) {
                o("eventMouseout", this, t, e)
            })
        }, h.showEvents = function(t, e) {
            f(t, e, "show")
        }, h.hideEvents = function(t, e) {
            f(t, e, "hide")
        }, h.eventDrop = function(t, e, n, r, a, i, s) {
            var c = e.allDay,
                l = e._id;
            d(y[l], n, r, a), o("eventDrop", t, e, n, r, a, function() {
                d(y[l], -n, -r, c), m(l)
            }, i, s), m(l)
        }, h.eventResize = function(t, e, n, r, a, i) {
            var s = e._id;
            v(y[s], n, r), o("eventResize", t, e, n, r, function() {
                v(y[s], -n, -r), m(s)
            }, a, i), m(s)
        };
        var g = h.defaultEventEnd,
            p = n.normalizeEvent,
            m = n.reportEventChange,
            y = {},
            b = [],
            D = {},
            w = n.options
    }

    function $() {
        function n(t) {
            var e, n, r, a, o, i, s, c, l, u, f = v("isRTL"),
                d = t.length,
                h = (e = x()).left,
                m = e.right,
                y = "";
            for (e = 0; e < d; e++) r = (n = t[e]).event, o = ["fc-event", "fc-event-skin", "fc-event-hori"], g(r) && o.push("fc-event-draggable"), f ? (n.isStart && o.push("fc-corner-right"), n.isEnd && o.push("fc-corner-left"), i = F(n.end.getDay() - 1), s = F(n.start.getDay()), c = n.isEnd ? T(i) : h, l = n.isStart ? H(s) : m) : (n.isStart && o.push("fc-corner-left"), n.isEnd && o.push("fc-corner-right"), i = F(n.start.getDay()), s = F(n.end.getDay() - 1), c = n.isStart ? T(i) : h, l = n.isEnd ? H(s) : m), o = o.concat(r.className), r.source && (o = o.concat(r.source.className || [])), a = r.url, u = j(r, v), y += a ? "<a href='" + _(a) + "'" : "<div", y += " class='" + o.join(" ") + "' style='position:absolute;z-index:8;left:" + c + "px;" + u + "'><div class='fc-event-inner fc-event-skin'" + (u ? " style='" + u + "'" : "") + ">", !r.allDay && n.isStart && (y += "<span class='fc-event-time'>" + _(I(r.start, r.end, v("timeFormat"))) + " </span>"), y += "<span class='fc-event-title'>" + _(r.title) + "</span></div>", n.isEnd && p(r) && (y += "<div class='ui-resizable-handle ui-resizable-" + (f ? "w" : "e") + "'>&nbsp;&nbsp;&nbsp;</div>"), y += "</" + (a ? "a" : "div") + ">", n.left = c, n.outerWidth = l - c, n.startCol = i, n.endCol = s + 1;
            return y
        }

        function r(e, n) {
            var r, a, o, i, s = e.length;
            for (r = 0; r < s; r++) o = (a = e[r]).event, i = t(n[r]), !1 === (o = h("eventRender", o, o, i)) ? i.remove() : (o && !0 !== o && (o = t(o).css({
                position: "absolute",
                left: a.left
            }), i.replaceWith(o), i = o), a.element = i)
        }

        function a(t) {
            var n, r, a, o, i, s = t.length,
                c = {};
            for (n = 0; n < s; n++)(a = (r = t[n]).element) && ((i = c[o = r.key = O(a[0])]) === e && (i = c[o] = k(a, !0)), r.hsides = i)
        }

        function o(t) {
            var e, n, r, a = t.length;
            for (e = 0; e < a; e++)(r = (n = t[e]).element) && (r[0].style.width = Math.max(0, n.outerWidth - n.hsides) + "px")
        }

        function s(t) {
            var n, r, a, o, i, s = t.length,
                c = {};
            for (n = 0; n < s; n++)(a = (r = t[n]).element) && ((i = c[o = r.key]) === e && (i = c[o] = z(a)), r.outerHeight = a[0].offsetHeight + i)
        }

        function c() {
            var t, e = M(),
                n = [];
            for (t = 0; t < e; t++) n[t] = S(t).find("td:first div.fc-day-content > div");
            return n
        }

        function l(t) {
            var e, n = t.length,
                r = [];
            for (e = 0; e < n; e++) r[e] = t[e][0].offsetTop;
            return r
        }

        function f(t, e) {
            var n, r, a, o = t.length;
            for (n = 0; n < o; n++)(a = (r = t[n]).element) && (a[0].style.top = e[r.row] + (r.top || 0) + "px", r = r.event, h("eventAfterRender", r, r, a))
        }
        var d = this;
        d.renderDaySegs = function(t, e) {
            var i, u, d, v, h = W(),
                g = M(),
                p = C(),
                m = 0,
                b = t.length;
            for (h[0].innerHTML = n(t), r(t, h.children()), function(t) {
                    var e, n, r, a = t.length;
                    for (e = 0; e < a; e++) n = t[e], (r = n.element) && y(n.event, r)
                }(t), function(t, e, n) {
                    var r, a, o, i, s = t.length;
                    for (r = 0; r < s; r++) a = t[r], (o = a.element) && ((i = a.event)._id === n ? A(i, o, a) : o[0]._fci = r);
                    E(e, t, A)
                }(t, h, e), a(t), o(t), s(t), e = c(), h = 0; h < g; h++) {
                for (i = [], u = 0; u < p; u++) i[u] = 0;
                for (; m < b && (d = t[m]).row == h;) {
                    for (u = L(i.slice(d.startCol, d.endCol)), d.top = u, u += d.outerHeight, v = d.startCol; v < d.endCol; v++) i[v] = u;
                    m++
                }
                e[h].height(L(i))
            }
            f(t, l(e))
        }, d.resizableDayEvent = function(e, g, p) {
            var y = v("isRTL"),
                S = y ? "w" : "e",
                E = g.find("div.ui-resizable-" + S),
                x = !1;
            B(g), g.mousedown(function(t) {
                t.preventDefault()
            }).click(function(t) {
                x && (t.preventDefault(), t.stopImmediatePropagation())
            }), E.mousedown(function(v) {
                if (1 == v.which) {
                    x = !0;
                    var E, T, k = d.getHoverListener(),
                        H = M(),
                        z = C(),
                        F = y ? -1 : 1,
                        L = y ? z - 1 : 0,
                        A = g.css("top"),
                        _ = t.extend({}, e),
                        O = R(e.start);
                    q(), t("body").css("cursor", S + "-resize").one("mouseup", function(n) {
                        h("eventResizeStop", this, e, n), t("body").css("cursor", ""), k.stop(), P(), E && w(this, e, E, 0, n), setTimeout(function() {
                            x = !1
                        }, 0)
                    }), h("eventResizeStart", this, e, v), k.start(function(d, v) {
                        if (d) {
                            var h = Math.max(O.row, d.row);
                            d = d.col, 1 == H && (h = 0), h == O.row && (d = y ? Math.min(O.col, d) : Math.max(O.col, d)), E = 7 * h + d * F + L - (7 * v.row + v.col * F + L), v = i(m(e), E, !0), E ? (_.end = v, h = T, (T = function(e, i, u) {
                                var d, v = t("<div/>"),
                                    h = W(),
                                    g = e.length;
                                for (v[0].innerHTML = n(e), v = v.children(), h.append(v), r(e, v), a(e), o(e), s(e), f(e, l(c())), v = [], h = 0; h < g; h++)(d = e[h].element) && (e[h].row === i && d.css("top", u), v.push(d[0]));
                                return t(v)
                            }(N([_]), p.row, A)).find("*").css("cursor", S + "-resize"), h && h.remove(), D(e)) : T && (b(e), T.remove(), T = null), P(), Y(e.start, i(u(v), 1))
                        }
                    }, v)
                }
            })
        };
        var v = d.opt,
            h = d.trigger,
            g = d.isEventDraggable,
            p = d.isEventResizable,
            m = d.eventEnd,
            y = d.reportEventElement,
            b = d.showEvents,
            D = d.hideEvents,
            w = d.eventResize,
            M = d.getRowCnt,
            C = d.getColCnt,
            S = d.allDayRow,
            x = d.allDayBounds,
            T = d.colContentLeft,
            H = d.colContentRight,
            F = d.dayOfWeekCol,
            R = d.dateCell,
            N = d.compileDaySegs,
            W = d.getDaySegmentContainer,
            A = d.bindDaySeg,
            I = d.calendar.formatDates,
            Y = d.renderDayOverlay,
            P = d.clearOverlays,
            q = d.clearSelection
    }

    function Q() {
        function e(t) {
            l && (l = !1, c(), o("unselect", null, t))
        }

        function n(t, e, n, r) {
            l = !0, o("select", null, t, e, n, r)
        }
        var r = this;
        r.select = function(t, r, a) {
            e(), r || (r = i(t, a)), s(t, r, a), n(t, r, a)
        }, r.unselect = e, r.reportSelection = n, r.daySelectionMousedown = function(o) {
            var i, l = r.cellDate,
                u = r.cellIsAllDay,
                f = r.getHoverListener(),
                d = r.reportDayClick;
            1 == o.which && a("selectable") && (e(o), f.start(function(t, e) {
                c(), t && u(t) ? (i = [l(e), l(t)].sort(N), s(i[0], i[1], !0)) : i = null
            }, o), t(document).one("mouseup", function(t) {
                f.stop(), i && (+i[0] == +i[1] && d(i[0], !0, t), n(i[0], i[1], !0, t))
            }))
        };
        var a = r.opt,
            o = r.trigger,
            i = r.defaultSelectionEnd,
            s = r.renderSelection,
            c = r.clearSelection,
            l = !1;
        a("selectable") && a("unselectAuto") && t(document).mousedown(function(n) {
            var r = a("unselectCancel");
            r && t(n.target).parents(r).length || e(n)
        })
    }

    function G() {
        this.renderOverlay = function(r, a) {
            var o = n.shift();
            return o || (o = t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")), o[0].parentNode != a[0] && o.appendTo(a), e.push(o.css(r).show()), o
        }, this.clearOverlays = function() {
            for (var t; t = e.shift();) n.push(t.hide().unbind())
        };
        var e = [],
            n = []
    }

    function J(t) {
        var e, n;
        this.build = function() {
            t(e = [], n = [])
        }, this.cell = function(t, r) {
            var a, o = e.length,
                i = n.length,
                s = -1,
                c = -1;
            for (a = 0; a < o; a++)
                if (r >= e[a][0] && r < e[a][1]) {
                    s = a;
                    break
                }
            for (a = 0; a < i; a++)
                if (t >= n[a][0] && t < n[a][1]) {
                    c = a;
                    break
                }
            return s >= 0 && c >= 0 ? {
                row: s,
                col: c
            } : null
        }, this.rect = function(t, r, a, o, i) {
            return i = i.offset(), {
                top: e[t][0] - i.top,
                left: n[r][0] - i.left,
                width: n[o][1] - n[r][0],
                height: e[a][1] - e[t][0]
            }
        }
    }

    function K(e) {
        function n(t) {
            (!(t = e.cell(t.pageX, t.pageY)) != !i || t && (t.row != i.row || t.col != i.col)) && (t ? (o || (o = t), a(t, o, t.row - o.row, t.col - o.col)) : a(t, o), i = t)
        }
        var r, a, o, i;
        this.start = function(s, c, l) {
            a = s, o = i = null, e.build(), n(c), r = l || "mousemove", t(document).bind(r, n)
        }, this.stop = function() {
            return t(document).unbind(r, n), i
        }
    }

    function tt(t) {
        function n(e) {
            return a[e] = a[e] || t(e)
        }
        var r = this,
            a = {},
            o = {},
            i = {};
        r.left = function(t) {
            return o[t] = o[t] === e ? n(t).position().left : o[t]
        }, r.right = function(t) {
            return i[t] = i[t] === e ? r.left(t) + n(t).width() : i[t]
        }, r.clear = function() {
            a = {}, o = {}, i = {}
        }
    }
    var et = {
            defaultView: "month",
            aspectRatio: 1.35,
            header: {
                left: "title",
                center: "",
                right: "today prev,next"
            },
            weekends: !0,
            allDayDefault: !0,
            ignoreTimezone: !0,
            lazyFetching: !0,
            startParam: "start",
            endParam: "end",
            titleFormat: {
                month: "MMMM yyyy",
                week: "MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",
                day: "dddd, MMM d, yyyy"
            },
            columnFormat: {
                month: "ddd",
                week: "ddd M/d",
                day: "dddd M/d"
            },
            timeFormat: {
                "": "h(:mm)t"
            },
            isRTL: !1,
            firstDay: 0,
            monthNames: ["มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"],
            monthNamesShort: ["ม.ค.", "ก.พ.", "มี.ค.", "เม.ย.", "พ.ค.", "มิ.ย.", "ก.ค.", "ส.ค.", "ก.ย.", "ต.ค.", "พ.ย.", "ธ.ค."],
            dayNames: ["อาทิตย์", "จันทร์", "อังคาร", "พุธ", "พฤหัสบดี", "ศุกร์", "เสาร์"],
            dayNamesShort: ["อา.", "จ.", "อ.", "พ.", "พฤ", "ศ.", "ส."],
            buttonText: {
                prev: "",
                next: "",
                prevYear: "&nbsp;&lt;&lt;&nbsp;",
                nextYear: "&nbsp;&gt;&gt;&nbsp;",
                today: "",
                month: "month",
                week: "week",
                day: "day"
            },
            theme: !1,
            buttonIcons: {
                prev: "circle-triangle-w",
                next: "circle-triangle-e"
            },
            unselectAuto: !0,
            dropAccept: "*"
        },
        nt = {
            header: {
                left: "next,prev today",
                center: "",
                right: "title"
            },
            buttonText: {
                prev: "&nbsp;&#9658;&nbsp;",
                next: "&nbsp;&#9668;&nbsp;",
                prevYear: "&nbsp;&gt;&gt;&nbsp;",
                nextYear: "&nbsp;&lt;&lt;&nbsp;"
            },
            buttonIcons: {
                prev: "circle-triangle-e",
                next: "circle-triangle-w"
            }
        },
        rt = t.fullCalendar = {
            version: "1.5.2"
        },
        at = rt.views = {};
    t.fn.fullCalendar = function(n) {
        if ("string" == typeof n) {
            var a, o = Array.prototype.slice.call(arguments, 1);
            return this.each(function() {
                var r = t.data(this, "fullCalendar");
                r && t.isFunction(r[n]) && (r = r[n].apply(r, o), a === e && (a = r), "destroy" == n && t.removeData(this, "fullCalendar"))
            }), a !== e ? a : this
        }
        var i = n.eventSources || [];
        return delete n.eventSources, n.events && (i.push(n.events), delete n.events), n = t.extend(!0, {}, et, n.isRTL || n.isRTL === e && et.isRTL ? nt : {}, n), this.each(function(e, a) {
            a = new r(e = t(a), n, i), e.data("fullCalendar", a), a.render()
        }), this
    }, rt.sourceNormalizers = [], rt.sourceFetchers = [];
    var ot = {
            dataType: "json",
            cache: !1
        },
        it = 1;
    rt.addDays = i, rt.cloneDate = u, rt.parseDate = g, rt.parseISO8601 = p, rt.parseTime = m, rt.formatDate = y, rt.formatDates = b;
    var st = ["อา.", "จ.", "อ.", "พ.", "พฤ", "ศ.", "ส."],
        ct = 864e5,
        lt = 36e5,
        ut = 6e4,
        ft = {
            s: function(t) {
                return t.getSeconds()
            },
            ss: function(t) {
                return W(t.getSeconds())
            },
            m: function(t) {
                return t.getMinutes()
            },
            mm: function(t) {
                return W(t.getMinutes())
            },
            h: function(t) {
                return t.getHours() % 12 || 12
            },
            hh: function(t) {
                return W(t.getHours() % 12 || 12)
            },
            H: function(t) {
                return t.getHours()
            },
            HH: function(t) {
                return W(t.getHours())
            },
            d: function(t) {
                return t.getDate()
            },
            dd: function(t) {
                return W(t.getDate())
            },
            ddd: function(t, e) {
                return e.dayNamesShort[t.getDay()]
            },
            dddd: function(t, e) {
                return e.dayNames[t.getDay()]
            },
            M: function(t) {
                return t.getMonth() + 1
            },
            MM: function(t) {
                return W(t.getMonth() + 1)
            },
            MMM: function(t, e) {
                return e.monthNamesShort[t.getMonth()]
            },
            MMMM: function(t, e) {
                return e.monthNames[t.getMonth()]
            },
            yy: function(t) {
                return (t.getFullYear() + "").substring(2)
            },
            yyyy: function(t) {
                return t.getFullYear()
            },
            t: function(t) {
                return t.getHours() < 12 ? "a" : "p"
            },
            tt: function(t) {
                return t.getHours() < 12 ? "am" : "pm"
            },
            T: function(t) {
                return t.getHours() < 12 ? "A" : "P"
            },
            TT: function(t) {
                return t.getHours() < 12 ? "AM" : "PM"
            },
            u: function(t) {
                return y(t, "yyyy-MM-dd'T'HH:mm:ss'Z'")
            },
            S: function(t) {
                return (t = t.getDate()) > 10 && t < 20 ? "th" : ["st", "nd", "rd"][t % 10 - 1] || "th"
            }
        };
    rt.applyAll = P, at.month = function(t, e) {
        var n = this;
        n.render = function(t, e) {
            e && (o(t, e), t.setDate(1)), (t = u(t, !0)).setDate(1), e = o(u(t), 1);
            var c = u(t),
                l = u(e),
                f = r("firstDay"),
                v = r("weekends") ? 0 : 1;
            v && (d(c), d(l, -1, !0)), i(c, -(c.getDay() - Math.max(f, v) + 7) % 7), i(l, (7 - l.getDay() + Math.max(f, v)) % 7), f = Math.round((l - c) / (7 * ct)), "fixed" == r("weekMode") && (i(l, 7 * (6 - f)), f = 6), n.title = s(t, r("titleFormat")), n.start = t, n.end = e, n.visStart = c, n.visEnd = l, a(6, f, v ? 5 : 7, !0)
        }, V.call(n, t, e, "month");
        var r = n.opt,
            a = n.renderBasic,
            s = e.formatDate
    }, at.basicWeek = function(t, e) {
        var n = this;
        n.render = function(t, e) {
            e && i(t, 7 * e), e = i(u(t = i(u(t), -(t.getDay() - r("firstDay") + 7) % 7)), 7);
            var s = u(t),
                c = u(e),
                l = r("weekends");
            l || (d(s), d(c, -1, !0)), n.title = o(s, i(u(c), -1), r("titleFormat")), n.start = t, n.end = e, n.visStart = s, n.visEnd = c, a(1, 1, l ? 7 : 5, !1)
        }, V.call(n, t, e, "basicWeek");
        var r = n.opt,
            a = n.renderBasic,
            o = e.formatDates
    }, at.basicDay = function(t, e) {
        var n = this;
        n.render = function(t, e) {
            e && (i(t, e), r("weekends") || d(t, e < 0 ? -1 : 1)), n.title = o(t, r("titleFormat")), n.start = n.visStart = u(t, !0), n.end = n.visEnd = i(u(n.start), 1), a(1, 1, 1, !1)
        }, V.call(n, t, e, "basicDay");
        var r = n.opt,
            a = n.renderBasic,
            o = e.formatDate
    }, n({
        weekMode: "fixed"
    }), at.agendaWeek = function(t, e) {
        var n = this;
        n.render = function(t, e) {
            e && i(t, 7 * e), e = i(u(t = i(u(t), -(t.getDay() - r("firstDay") + 7) % 7)), 7);
            var s = u(t),
                c = u(e),
                l = r("weekends");
            l || (d(s), d(c, -1, !0)), n.title = o(s, i(u(c), -1), r("titleFormat")), n.start = t, n.end = e, n.visStart = s, n.visEnd = c, a(l ? 7 : 5)
        }, U.call(n, t, e, "agendaWeek");
        var r = n.opt,
            a = n.renderAgenda,
            o = e.formatDates
    }, at.agendaDay = function(t, e) {
        var n = this;
        n.render = function(t, e) {
            e && (i(t, e), r("weekends") || d(t, e < 0 ? -1 : 1));
            var s = i(u(e = u(t, !0)), 1);
            n.title = o(t, r("titleFormat")), n.start = n.visStart = e, n.end = n.visEnd = s, a(1)
        }, U.call(n, t, e, "agendaDay");
        var r = n.opt,
            a = n.renderAgenda,
            o = e.formatDate
    }, n({
        allDaySlot: !0,
        allDayText: "all-day",
        firstHour: 6,
        slotMinutes: 30,
        defaultEventMinutes: 120,
        axisFormat: "h(:mm)tt",
        timeFormat: {
            agenda: "h:mm{ - h:mm}"
        },
        dragOpacity: {
            agenda: .5
        },
        minTime: 0,
        maxTime: 24
    })
}(jQuery);